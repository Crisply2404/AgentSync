# 任务清单: AgentSync MVP（单向同步）

目录: `helloagents/history/2026-02/202602140515_agentsync_mvp/`

---

## 1. 项目初始化（Tauri + React）
- [√] 1.1 初始化 Tauri + React + TS 项目骨架（创建 `src-tauri/` 与前端目录）
- [√] 1.2 接入基础 UI 框架（Tailwind），做左侧导航 + 主要页面路由

## 2. 配置（本机保存）
- [√] 2.1 定义配置结构（项目列表、开关、排除规则、连接信息）
- [√] 2.2 实现配置读写（`~/.agentsync/config.json`）
- [√] 2.3 做基础校验（Host/User/Key/目标目录不能为空）

## 3. 连接测试（SSH / SFTP）
- [√] 3.1 实现“测试连接”（能连上 + 目标目录可写）
- [√] 3.2 UI 展示测试结果（成功/失败原因用大白话）

## 4. 同步引擎（rclone）
- [√] 4.1 实现 rclone 命令拼装（SFTP 参数、远端路径、排除规则）
- [√] 4.2 实现“一键同步”执行器：按顺序同步每个启用项（项目 / Codex / .agents）
- [√] 4.3 进度回传：UI 至少能看到“运行中/完成/失败”的结果摘要

## 5. 镜像删除 + 备份（强制）
- [√] 5.1 默认使用镜像同步（rclone sync）
- [√] 5.2 强制开启备份目录：被删除/覆盖的目标端文件移动到 `AgentSync/.agentsync-backup/<run_id>/...`
- [√] 5.3 同步完成后在 UI 明确提示“备份目录位置”（方便找回）

## 6. 日志与历史
- [√] 6.1 保存每次运行历史（开始/结束时间、成功/失败、摘要、run_id）
- [√] 6.2 保存完整日志到 `~/.agentsync/logs/`
- [√] 6.3 UI 做“历史记录列表 + 日志查看（可搜索/复制）”

## 7. MVP 验证与收尾
- [?] 7.1 本地自测：同步一个小项目 + 一个大项目（验证排除规则生效）
  > 备注: 需要你在真实项目/真实 SSH 目标上跑一遍确认效果（当前环境没有目标机）。
- [?] 7.2 跨平台自测：Windows→macOS（至少验证一次完整链路）
  > 备注: 需要你在 Windows ↔ macOS 环境各跑一遍确认（当前环境无法连到你的 Mac）。
- [√] 7.3 更新知识库（wiki/modules、arch/api/data、CHANGELOG）
